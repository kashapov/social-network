{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.js","components/Dialogs/Message/Message.js","components/Dialogs/Dialogs.js","hoc/withAuthRedirect.js","components/Dialogs/DialogsContainer.js"],"names":["module","exports","DialogItem","props","id","name","path","className","classes","dialog","active","to","Message","message","maxLength","maxLengthCreator","MessageReduxForm","reduxForm","form","messageForm","onSubmit","handleSubmit","Field","component","Textarea","placeholder","validate","required","Dialogs","addMessage","dialogsPage","messagesData","dialogs","dialogsData","map","el","key","messages","dialogItems","formData","newMessageText","mapStateToPropsForRedirect","state","isAuth","auth","witAuthRedirect","Component","connect","compose","dispatch","addMessageAC"],"mappings":"+GACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,YAAc,6BAA6B,OAAS,wBAAwB,OAAS,wBAAwB,SAAW,0BAA0B,QAAU,yBAAyB,YAAc,+B,uHCgBzOC,EAXI,SAAAC,GAAU,IACnBC,EAAaD,EAAbC,GAAIC,EAASF,EAATE,KACNC,EAAI,mBAAeF,GAEzB,OACE,yBAAKG,UAAWC,IAAQC,OAAS,IAAMD,IAAQE,QAC7C,kBAAC,IAAD,CAASC,GAAIL,GAAOD,KCFXO,EANC,SAAAT,GAAU,IAChBU,EAAYV,EAAZU,QAER,OAAO,yBAAKN,UAAWC,IAAQK,SAAUA,I,gBCmCrCC,EAAYC,YAAiB,IAgB7BC,EAAmBC,YAAU,CACjCC,KAAM,wBADiBD,EAdF,SAAAd,GACrB,OACE,0BAAMI,UAAWC,IAAQW,YAAaC,SAAUjB,EAAMkB,cACpD,kBAACC,EAAA,EAAD,CACEC,UAAWC,IACXnB,KAAK,iBACLoB,YAAY,gBACZC,SAAU,CAACC,IAAUb,KAEvB,4CASSc,EApDC,SAAAzB,GAAU,IAChB0B,EAAe1B,EAAf0B,WADe,EAEe1B,EAAM2B,YAApCC,EAFe,EAEfA,aAEJC,EAJmB,EAEDC,YAEIC,KAAI,SAAAC,GAAE,OAC9B,wBAAIC,IAAKD,EAAG/B,IACV,kBAAC,EAAD,CAAYA,GAAI+B,EAAG/B,GAAIC,KAAM8B,EAAG9B,WAGhCgC,EAAWN,EAAaG,KAAI,SAAAC,GAAE,OAChC,wBAAIC,IAAKD,EAAG/B,IACV,kBAAC,EAAD,CAASA,GAAI+B,EAAG/B,GAAIS,QAASsB,EAAGtB,cAQpC,OACE,yBAAKN,UAAWC,IAAQwB,SACtB,yBAAKzB,UAAWC,IAAQ8B,aACtB,4BAAKN,IAEP,yBAAKzB,UAAWC,IAAQ6B,UACtB,4BAAKA,GACL,kBAACrB,EAAD,CAAkBI,SAXH,SAAAmB,GACnBV,EAAWU,EAASC,sB,iBCtBlBC,EAA6B,SAAAC,GACjC,MAAO,CACLC,OAAQD,EAAME,KAAKD,SAiBRE,EAbgB,SAAAC,GAU7B,OAJmCC,YAAQN,EAARM,EALT,SAAA5C,GACxB,OAAKA,EAAMwC,OACJ,kBAACG,EAAc3C,GADI,kBAAC,IAAD,CAAUQ,GAAG,eCU5BqC,sBACbD,aAhBsB,SAAAL,GACtB,MAAO,CACLZ,YAAaY,EAAMZ,YACnBa,OAAQD,EAAME,KAAKD,WAII,SAAAM,GACzB,MAAO,CACLpB,WAAY,SAAAW,GACVS,EAASC,YAAaV,SAU1BK,EALaG,CAMbpB","file":"static/js/5.aea5ece2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__Dytzb\",\"dialogItems\":\"Dialogs_dialogItems__2ZTn_\",\"active\":\"Dialogs_active__13tHI\",\"dialog\":\"Dialogs_dialog__GZDv7\",\"messages\":\"Dialogs_messages__1CqJy\",\"message\":\"Dialogs_message__3cJJ3\",\"messageForm\":\"Dialogs_messageForm__1Hjhp\"};","import React from \"react\";\r\n\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport classes from \"../Dialogs.module.css\";\r\n\r\nconst DialogItem = props => {\r\n  const { id, name } = props;\r\n  const path = `/dialogs/${id}`;\r\n\r\n  return (\r\n    <div className={classes.dialog + \" \" + classes.active}>\r\n      <NavLink to={path}>{name}</NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DialogItem;\r\n","import React from \"react\";\r\n\r\nimport classes from \"../Dialogs.module.css\";\r\n\r\nconst Message = props => {\r\n  const { message } = props;\r\n\r\n  return <div className={classes.message}>{message}</div>;\r\n};\r\n\r\nexport default Message;\r\n","import React from \"react\";\r\nimport { reduxForm, Field } from \"redux-form\";\r\n\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport { Textarea } from \"../FormControls/FormControls\";\r\nimport { required, maxLengthCreator } from \"../../utils/validators\";\r\n\r\nimport classes from \"./Dialogs.module.css\";\r\n\r\nconst Dialogs = props => {\r\n  const { addMessage } = props;\r\n  const { messagesData, dialogsData } = props.dialogsPage;\r\n\r\n  let dialogs = dialogsData.map(el => (\r\n    <li key={el.id}>\r\n      <DialogItem id={el.id} name={el.name} />\r\n    </li>\r\n  ));\r\n  let messages = messagesData.map(el => (\r\n    <li key={el.id}>\r\n      <Message id={el.id} message={el.message} />\r\n    </li>\r\n  ));\r\n\r\n  const onAddMessage = formData => {\r\n    addMessage(formData.newMessageText);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.dialogs}>\r\n      <div className={classes.dialogItems}>\r\n        <ul>{dialogs}</ul>\r\n      </div>\r\n      <div className={classes.messages}>\r\n        <ul>{messages}</ul>\r\n        <MessageReduxForm onSubmit={onAddMessage} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst maxLength = maxLengthCreator(50);\r\n\r\nconst AddMessageForm = props => {\r\n  return (\r\n    <form className={classes.messageForm} onSubmit={props.handleSubmit}>\r\n      <Field\r\n        component={Textarea}\r\n        name=\"newMessageText\"\r\n        placeholder=\"Enter message\"\r\n        validate={[required, maxLength]}\r\n      />\r\n      <button>Send</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst MessageReduxForm = reduxForm({\r\n  form: \"dialogAddMessageForm\"\r\n})(AddMessageForm);\r\n\r\nexport default Dialogs;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst mapStateToPropsForRedirect = state => {\r\n  return {\r\n    isAuth: state.auth.isAuth\r\n  };\r\n};\r\n\r\nexport const witAuthRedirect = Component => {\r\n  const RedirectComponent = props => {\r\n    if (!props.isAuth) return <Redirect to=\"/login\" />;\r\n    return <Component {...props} />;\r\n  };\r\n\r\n  const ConnectedRedirectComponent = connect(mapStateToPropsForRedirect)(\r\n    RedirectComponent\r\n  );\r\n\r\n  return ConnectedRedirectComponent;\r\n};\r\n\r\nexport default witAuthRedirect;\r\n","import { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Dialogs from \"./Dialogs\";\r\nimport { addMessageAC } from \"../../redux/dialogsReducer\";\r\nimport witAuthRedirect from \"../../hoc/withAuthRedirect\";\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    dialogsPage: state.dialogsPage,\r\n    isAuth: state.auth.isAuth\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    addMessage: newMessageText => {\r\n      dispatch(addMessageAC(newMessageText));\r\n    }\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  ),\r\n  witAuthRedirect\r\n)(Dialogs);\r\n"],"sourceRoot":""}