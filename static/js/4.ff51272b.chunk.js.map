{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/MyPosts/MyPosts.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/Post/Post.js","components/Profile/MyPosts/MyPosts.js","components/Profile/MyPosts/MyPostsContainer.js","components/Profile/ProfileInfo/ProfileStatusHooks.js","components/Profile/ProfileInfo/ProfileInfo.js","components/Profile/Profile.js","components/Profile/ProfileContainer.js"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","TypeError","module","exports","Post","props","message","maxLength","maxLengthCreator","MyPosts","React","memo","addPost","posts","profilePage","postsData","map","post","key","id","likes","className","classes","postsBlock","PostReduxForm","onSubmit","formData","newPostText","reduxForm","form","postForm","handleSubmit","Field","component","Textarea","name","placeholder","validate","required","MyPostsContainer","connect","state","dispatch","addPostAC","ProfileStatusHooks","useState","editMode","setEditMode","status","setStatus","useEffect","deactivateEditMode","updateStatus","userStatus","autoFocus","onBlur","onChange","e","currentTarget","type","onClick","ProfileInfo","profile","userProfile","userProfileLeft","userPhoto","src","photos","large","alt","fullName","userProfileRight","userName","aboutMe","userLocation","contacts","facebook","github","Profile","ProfileContainer","this","match","getProfile","getStatus","authUserId","userId","params","history","PureComponent","compose","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/4.ff51272b.chunk.js","sourcesContent":["import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__2d-pj\",\"posts\":\"MyPosts_posts__mh0cp\",\"postForm\":\"MyPosts_postForm__VdyHp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__155pI\",\"userProfile\":\"ProfileInfo_userProfile__2yV4q\",\"userPhoto\":\"ProfileInfo_userPhoto__q8nEK\",\"userProfileLeft\":\"ProfileInfo_userProfileLeft__2PFS2\",\"userProfileRight\":\"ProfileInfo_userProfileRight__2bVZg\",\"userName\":\"ProfileInfo_userName__2mdaR\",\"userStatus\":\"ProfileInfo_userStatus__2R1Ir\"};","import React from \"react\";\r\n\r\n// import classes from \"./Post.module.css\";\r\n\r\nconst Post = props => {\r\n  return <>post: {props.message}</>;\r\n};\r\n\r\nexport default Post;\r\n","import React from 'react';\r\nimport { reduxForm, Field } from 'redux-form';\r\n\r\nimport Post from './Post/Post';\r\nimport { Textarea } from '../../FormControls/FormControls';\r\nimport { required, maxLengthCreator } from '../../../utils/validators';\r\n\r\nimport classes from './MyPosts.module.css';\r\n\r\nconst maxLength = maxLengthCreator(30);\r\n\r\nconst MyPosts = React.memo(props => {\r\n  const { addPost } = props;\r\n  const { postsData } = props.profilePage;\r\n\r\n  const posts = postsData.map(post => (\r\n    <li key={post.id}>\r\n      <Post id={post.id} message={post.message} likes={post.likes} />\r\n    </li>\r\n  ));\r\n\r\n  const onAddPost = formData => {\r\n    addPost(formData.newPostText);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.postsBlock}>\r\n      <h3>My posts</h3>\r\n      <PostReduxForm onSubmit={onAddPost} />\r\n      <div className={classes.posts}>\r\n        <ul>{posts}</ul>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nconst AddPostForm = props => {\r\n  return (\r\n    <form className={classes.postForm} onSubmit={props.handleSubmit}>\r\n      <Field\r\n        component={Textarea}\r\n        name=\"newPostText\"\r\n        placeholder=\"Enter post\"\r\n        validate={[required, maxLength]}\r\n      />\r\n      <button>Add post</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst PostReduxForm = reduxForm({\r\n  form: 'profileAddPostForm',\r\n})(AddPostForm);\r\n\r\nexport default MyPosts;\r\n","import { connect } from \"react-redux\";\r\n\r\nimport MyPosts from \"./MyPosts\";\r\nimport { addPostAC } from \"../../../redux/profileReducer\";\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    profilePage: state.profilePage\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    addPost: newPostText => {\r\n      dispatch(addPostAC(newPostText));\r\n    }\r\n  };\r\n};\r\n\r\nconst MyPostsContainer = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nconst ProfileStatusHooks = props => {\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [status, setStatus] = useState(props.status);\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status);\r\n  }, [props.status]);\r\n\r\n  const activateEditMode = () => {\r\n    setEditMode(true);\r\n  };\r\n\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false);\r\n    props.updateStatus(status);\r\n  };\r\n\r\n  const onStatusChange = e => {\r\n    setStatus(e.currentTarget.value);\r\n  };\r\n\r\n  const userStatus = editMode ? (\r\n    <>\r\n      <input\r\n        autoFocus={true}\r\n        onBlur={deactivateEditMode}\r\n        onChange={onStatusChange}\r\n        type=\"text\"\r\n        value={status}\r\n      />\r\n      <button onClick={deactivateEditMode}>save</button>\r\n    </>\r\n  ) : (\r\n    <span onClick={activateEditMode}>{props.status || 'no status'}</span>\r\n  );\r\n  return <div>Status: {userStatus}</div>;\r\n};\r\n\r\nexport default ProfileStatusHooks;\r\n","import React from 'react';\r\n\r\nimport ProfileStatusHooks from './ProfileStatusHooks';\r\n\r\nimport classes from './ProfileInfo.module.css';\r\n\r\nconst ProfileInfo = props => {\r\n  const { profile, status, updateStatus } = props;\r\n\r\n  if (!profile) return 'Loading';\r\n\r\n  const userProfile = (\r\n    <div className={classes.userProfile}>\r\n      <div className={classes.userProfileLeft}>\r\n        <div>\r\n          <img\r\n            className={classes.userPhoto}\r\n            src={profile.photos.large}\r\n            alt={profile.fullName}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className={classes.userProfileRight}>\r\n        <div>\r\n          <div className={classes.userName}>{profile.fullName}</div>\r\n          <ProfileStatusHooks status={status} updateStatus={updateStatus} />\r\n          <div className={classes.userStatus}>About me: {profile.aboutMe}</div>\r\n        </div>\r\n        <div className={classes.userLocation}>\r\n          <div>\r\n            Contacts:\r\n            <ul>\r\n              <li>{profile.contacts.facebook}</li>\r\n              <li>{profile.contacts.github}</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return <>{userProfile}</>;\r\n};\r\n\r\nexport default ProfileInfo;\r\n","import React from \"react\";\r\n\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\n\r\nconst Profile = props => {\r\n  // if (!props.profile) return \"Loading\";\r\n\r\n  return (\r\n    <section>\r\n      <ProfileInfo\r\n        profile={props.profile}\r\n        status={props.status}\r\n        updateStatus={props.updateStatus}\r\n      />\r\n      <MyPostsContainer />\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport { compose } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport Profile from './Profile';\r\nimport {\r\n  getProfile,\r\n  getStatus,\r\n  updateStatus,\r\n} from '../../redux/profileReducer';\r\n\r\nclass ProfileContainer extends React.PureComponent {\r\n  componentDidMount() {\r\n    const { match, getProfile, getStatus, authUserId } = this.props;\r\n    let userId = match.params.userId;\r\n\r\n    if (!userId) userId = authUserId;\r\n    if (!userId) this.props.history.push('/login');\r\n\r\n    getProfile(userId);\r\n    getStatus(userId);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Profile\r\n        {...this.props}\r\n        profile={this.props.profile}\r\n        status={this.props.status}\r\n        updateStatus={this.props.updateStatus}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(\r\n    mapStateToProps,\r\n    { getProfile, getStatus, updateStatus },\r\n  ),\r\n  withRouter,\r\n)(ProfileContainer);\r\n"],"sourceRoot":""}